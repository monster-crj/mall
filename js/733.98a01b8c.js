"use strict";(self["webpackChunkvue_mall"]=self["webpackChunkvue_mall"]||[]).push([[733],{6733:function(s,t,a){a.r(t),a.d(t,{default:function(){return D}});var e=function(){var s=this,t=s._self._c;return t("div",[t("div",{staticClass:"info"},[t("div",{staticClass:"container"},[t("GoodsMedia",{attrs:{goods:s.goods,src:s.src}}),t("div",{staticClass:"spec"},[t("GoodsName",{attrs:{goods:s.goods}}),t("GoodsSku",{attrs:{skus:s.skus},on:{getSku:s.getSku}}),t("div",{staticClass:"count"},[t("div",{staticClass:"label"},[s._v("数量")]),t("el-input-number",{attrs:{min:1,size:"small"},model:{value:s.count,callback:function(t){s.count=t},expression:"count"}})],1),t("el-button",{attrs:{type:"primary"},on:{click:s.addCart}},[s._v("加入购物车")])],1)],1)]),t("GoodsDetail",{attrs:{attrs:s.attrs,image:s.image}})],1)},i=[],l=function(){var s=this,t=s._self._c;return t("div",{staticClass:"sku"},[t("dl",s._l(s.skus,(function(a,e){return t("dd",{key:e,class:{active:s.active===e},on:{click:function(t){return s.select(e,a)}}},s._l(a.specs,(function(a,e){return t("span",{key:e},[s._v(s._s(a.valueName))])})),0)})),0)])},o=[],r={props:["skus"],data(){return{active:null}},methods:{select(s,t){this.active=s,this.$emit("getSku",t)}}},n=r,c=a(1001),u=(0,c.Z)(n,l,o,!1,null,"7d19a17b",null),d=u.exports,_=function(){var s=this,t=s._self._c;return t("div",[t("p",{staticClass:"g-name"},[s._v(s._s(s.goods.name))]),t("p",{staticClass:"g-desc"},[s._v(s._s(s.goods.desc))]),t("p",{staticClass:"g-price"},[t("span",[s._v("¥"+s._s(s.goods.price))]),t("span",[s._v("¥"+s._s(s.goods.oldPrice))])]),s._m(0)])},v=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"g-service"},[t("dl",[t("dt",[s._v("促销")]),t("dd",[s._v("12月好物放送，App领券购买直降120元")])]),t("dl",[t("dt",[s._v("配送")]),t("dd",[s._v("至")])]),t("dl",[t("dt",[s._v("服务")]),t("dd",[t("span",[s._v("无忧退货")]),t("span",[s._v("快速退款")]),t("span",[s._v("免费包邮")]),t("a",{attrs:{href:"javascript:;"}},[s._v("了解详情")])])])])}],p={props:["goods"]},m=p,g=(0,c.Z)(m,_,v,!1,null,"3cfa0a61",null),h=g.exports,f=function(){var s=this,t=s._self._c;return t("div",{staticClass:"media"},[t("div",{staticClass:"image"},[t("div",{staticClass:"middle"},[t("el-image",{ref:"mid",attrs:{src:s.src,lazy:""}})],1),t("ul",{staticClass:"small"},s._l(s.goods.mainPictures,(function(a,e){return t("li",{key:e,on:{mouseenter:function(t){return s.toggleImg(a)}}},[t("el-image",{attrs:{src:a,lazy:""}})],1)})),0)]),t("ul",{staticClass:"sales"},[t("li",[t("p",[s._v("销量人气")]),t("p",[s._v(s._s(s.goods.salesCount))]),s._m(0)]),t("li",[t("p",[s._v("商品评价")]),t("p",[s._v(s._s(s.goods.commentCount))]),s._m(1)]),t("li",[t("p",[s._v("收藏人气")]),t("p",[s._v(s._s(s.goods.collectCount))]),s._m(2)]),s._m(3)])])},k=[function(){var s=this,t=s._self._c;return t("p",[t("i",{staticClass:"el-icon-sell"}),s._v("销量人气")])},function(){var s=this,t=s._self._c;return t("p",[t("i",{staticClass:"el-icon-s-comment"}),s._v("查看评价")])},function(){var s=this,t=s._self._c;return t("p",[t("i",{staticClass:"el-icon-collection"}),s._v("收藏商品")])},function(){var s=this,t=s._self._c;return t("li",[t("p",[s._v("品牌信息")]),t("p",[s._v("自营")]),t("p",[t("i",{staticClass:"el-icon-house"}),s._v("品牌主页")])])}],C={props:["goods","src"],methods:{toggleImg(s){this.$refs.mid.src=s}}},y=C,G=(0,c.Z)(y,f,k,!1,null,"709b3f39",null),b=G.exports,x=function(){var s=this,t=s._self._c;return t("div",{staticClass:"detail"},[t("div",{staticClass:"container"},[t("ul",{staticClass:"attrs"},s._l(s.attrs,(function(a,e){return t("li",{key:e},[t("span",{staticClass:"dt"},[s._v(s._s(a.name))]),t("span",{staticClass:"dd"},[s._v(s._s(a.value))])])})),0),t("ul",{staticClass:"image"},s._l(s.image,(function(s,a){return t("li",{key:a},[t("el-image",{attrs:{src:s,lazy:""}})],1)})),0)])])},I=[],$={props:["attrs","image"]},w=$,S=(0,c.Z)(w,x,I,!1,null,"7c569a31",null),P=S.exports,Z={components:{GoodsSku:d,GoodsName:h,GoodsMedia:b,GoodsDetail:P},props:["id"],data(){return{goods:{},src:"",skus:[],attrs:[],image:[],skuId:null,count:1}},methods:{async getGoods(){const{data:s}=await this.$axios.get("/goods",{params:{id:this.id}});this.goods=s.result,this.src=s.result.mainPictures[0],this.skus=s.result.skus,this.attrs=s.result.details.properties,this.image=s.result.details.pictures},getSku(s){this.skuId=s.id,this.goods.price=s.price,this.goods.oldPrice=s.oldPrice},async addCart(){if(this.$store.state.userInfo.token)if(null===this.skuId)this.$message.error("请选择商品规格");else{const{data:s}=await this.$axios.post("/member/cart",{skuId:this.skuId,count:this.count});this.$message.success("加入购物车成功")}else this.$message.warning("请先登录您的账号")}},created(){this.getGoods()},watch:{id:{handler(){this.getGoods()}}}},z=Z,N=(0,c.Z)(z,e,i,!1,null,"7979b29e",null),D=N.exports}}]);
//# sourceMappingURL=733.98a01b8c.js.map