(function(){"use strict";var t={2226:function(t,s,a){var e=a(6369),i=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],c={},n=c,o=a(1001),l=(0,o.Z)(n,i,r,!1,null,null,null),u=l.exports,d=a(2631),v=a(3822);e["default"].use(v.ZP);const h={userInfo:{},checkInfo:{}},_={setUserInfo(t,s){t.userInfo=s},setCheckInfo(t,s){t.checkInfo=s}},p={},f=new v.ZP.Store({state:h,mutations:_,actions:p});var g=f,m=function(){var t=this,s=t._self._c;return s("div",[s("Topnav"),s("Header"),s("router-view"),s("Footer")],1)},C=[],k=function(){var t=this,s=t._self._c;return s("div",{staticClass:"topnav"},[s("div",{staticClass:"container"},[s("ul",[t.$store.state.userInfo.account?s("li",[s("router-link",{attrs:{to:"/user"}},[s("i",{staticClass:"el-icon-user-solid"}),t._v(t._s(t.$store.state.userInfo.account))])],1):t._e(),t.$store.state.userInfo.account?s("li",[s("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("退出登录")])]):t._e(),t.$store.state.userInfo.account?t._e():s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("免费注册")])]),t.$store.state.userInfo.account?t._e():s("li",[s("router-link",{attrs:{to:"/login"}},[t._v("账号登录")])],1),s("li",[s("router-link",{attrs:{to:"/user/order"}},[t._v("我的订单")])],1),s("li",[s("router-link",{attrs:{to:"/user/cart"}},[t._v("购物车")])],1),t._m(0),t._m(1)])])])},y=[function(){var t=this,s=t._self._c;return s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("帮助中心")])])},function(){var t=this,s=t._self._c;return s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("关于我们")])])}],b={methods:{logout(){this.$store.commit("setUserInfo",{}),this.$message.success("已退出登录"),this.$router.push("/login")}}},L=b,x=(0,o.Z)(L,k,y,!1,null,"7f9b104e",null),w=x.exports,I=function(){var t=this,s=t._self._c;return s("div",{staticClass:"header"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"logo"},[s("router-link",{attrs:{to:"/"}})],1),s("ul",{staticClass:"navs"},[s("li",{staticClass:"home"},[s("router-link",{attrs:{to:"/"}},[t._v("首页")])],1),t._l(t.cateList,(function(a){return s("li",{key:a.id},[s("router-link",{attrs:{to:`/category/${a.id}`}},[t._v(t._s(a.name))])],1)}))],2)])])},j=[],$={data(){return{cateList:[]}},methods:{async getCateList(){const{data:t}=await this.$axios.get("/home/category/head");this.cateList=t.result}},created(){this.getCateList()}},P=$,Z=(0,o.Z)(P,I,j,!1,null,"21c7fd7e",null),F=Z.exports,q=function(){var t=this;t._self._c;return t._m(0)},G=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"footer"},[s("div",{staticClass:"contact"},[s("div",{staticClass:"container"},[s("dl",[s("dt",[t._v("客户服务")]),s("dd",[t._v(" 在线客服 "),s("i",{staticClass:"el-icon-chat-line-round"})]),s("dd",[t._v(" 问题反馈 "),s("i",{staticClass:"el-icon-chat-line-square"})])]),s("dl",[s("dt",[t._v("关注我们")]),s("dd",[t._v(" 公众号 "),s("i",{staticClass:"el-icon-chat-dot-round"})]),s("dd",[t._v(" 微博 "),s("i",{staticClass:"el-icon-chat-dot-round"})])]),s("dl",[s("dt",[t._v("下载APP")]),s("dd",{staticClass:"qrcode"}),s("dd",{staticClass:"download"},[s("span",[t._v("扫描二维码")]),s("span",[t._v("立马下载APP")]),s("a",{attrs:{href:"javascript:;"}},[t._v("下载页面")])])]),s("dl",[s("dt",[t._v("服务热线")]),s("dd",{staticClass:"hotline"},[t._v(" 400-0000-000 "),s("small",[t._v("周一至周日 8:00-18:00")])])])])]),s("div",{staticClass:"extra"},[s("div",{staticClass:"container"},[s("div",{staticClass:"slogan"},[s("a",{attrs:{href:"javascript:;"}},[s("i",{staticClass:"el-icon-coin"}),s("span",[t._v("价格亲民")])]),s("a",{attrs:{href:"javascript:;"}},[s("i",{staticClass:"el-icon-truck"}),s("span",[t._v("物流快捷")])]),s("a",{attrs:{href:"javascript:;"}},[s("i",{staticClass:"el-icon-star-off"}),s("span",[t._v("品质新鲜")])])]),s("div",{staticClass:"copyright"},[s("p",[s("a",{attrs:{href:"javascript:;"}},[t._v("关于我们")]),s("a",{attrs:{href:"javascript:;"}},[t._v("帮助中心")]),s("a",{attrs:{href:"javascript:;"}},[t._v("售后服务")]),s("a",{attrs:{href:"javascript:;"}},[t._v("配送与验收")]),s("a",{attrs:{href:"javascript:;"}},[t._v("商务合作")]),s("a",{attrs:{href:"javascript:;"}},[t._v("搜索推荐")]),s("a",{attrs:{href:"javascript:;"}},[t._v("友情链接")])]),s("p",[t._v("CopyRight © 怪兽商城")])])])])])}],S={},N=S,R=(0,o.Z)(N,q,G,!1,null,"1cc0a721",null),H=R.exports,O={components:{Topnav:w,Header:F,Footer:H}},T=O,M=(0,o.Z)(T,m,C,!1,null,null,null),A=M.exports,D=function(){var t=this,s=t._self._c;return s("div",[s("HomeBanner"),s("HomeNew"),s("HomeHot"),s("HomeGoods")],1)},B=[],E=function(){var t=this,s=t._self._c;return s("div",{staticClass:"banner"},[s("div",{staticClass:"container"},[s("ul",[s("li",[s("routerLink",{attrs:{to:"/"}},[s("img",{attrs:{src:"http://yjy-xiaotuxian-dev.oss-cn-beijing.aliyuncs.com/picture/2021-04-15/1ba86bcc-ae71-42a3-bc3e-37b662f7f07e.jpg",alt:""}})])],1)])])])},z=[],U={},W=U,J=(0,o.Z)(W,E,z,!1,null,"bdca7492",null),K=J.exports,Q=function(){var t=this,s=t._self._c;return s("div",{staticClass:"new"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"main"},[s("ul",t._l(t.newList,(function(a){return s("li",{key:a.id},[s("routerLink",{attrs:{to:`/goods/${a.id}`}},[s("img",{attrs:{src:a.picture,alt:""}}),s("p",{staticClass:"name ellipsis"},[t._v(t._s(a.name))]),s("p",{staticClass:"price"},[t._v("¥"+t._s(a.price))])])],1)})),0)])])])},V=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"head"},[s("h3",[t._v("新鲜好物"),s("small",[t._v("新鲜出炉 品质靠谱")])])])}],X={data(){return{newList:[]}},methods:{async getNewList(){const{data:t}=await this.$axios.get("/home/new");this.newList=t.result}},created(){this.getNewList()}},Y=X,tt=(0,o.Z)(Y,Q,V,!1,null,"bfcfb684",null),st=tt.exports,at=function(){var t=this,s=t._self._c;return s("div",{staticClass:"hot"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"main"},[s("ul",t._l(t.hotList,(function(a){return s("li",{key:a.id},[s("routerLink",{attrs:{to:"/"}},[s("img",{attrs:{src:a.picture,alt:""}}),s("p",{staticClass:"name"},[t._v(t._s(a.title))]),s("p",{staticClass:"desc"},[t._v(t._s(a.alt))])])],1)})),0)])])])},et=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"head"},[s("h3",[t._v("人气推荐"),s("small",[t._v("人气爆款 不容错过")])])])}],it={data(){return{hotList:[]}},methods:{async getHotList(){const{data:t}=await this.$axios.get("/home/hot");this.hotList=t.result}},created(){this.getHotList()}},rt=it,ct=(0,o.Z)(rt,at,et,!1,null,"6d411b62",null),nt=ct.exports,ot=function(){var t=this,s=t._self._c;return s("div",{staticClass:"goods"},t._l(t.goodsList,(function(a){return s("div",{key:a.id,staticClass:"container"},[s("div",{staticClass:"head"},[s("h3",[t._v(" "+t._s(a.name)),s("small",[t._v(t._s(a.saleInfo))])]),s("routerLink",{staticClass:"more",attrs:{to:`/category/${a.id}`}},[s("span",[t._v("查看全部"),s("i",{staticClass:"el-icon-arrow-right"})])])],1),s("div",{staticClass:"main"},[s("div",{staticClass:"cover"},[s("routerLink",{attrs:{to:"/"}},[s("img",{attrs:{src:a.picture,alt:""}})])],1),s("ul",t._l(a.goods,(function(a){return s("li",{key:a.id},[s("div",{staticClass:"item"},[s("routerLink",{attrs:{to:`/goods/${a.id}`}},[s("div",{staticClass:"image"},[s("img",{attrs:{src:a.picture,alt:""}})])]),s("p",{staticClass:"name ellipsis-2"},[t._v(" "+t._s(a.name)+" ")]),s("p",{staticClass:"desc ellipsis"},[t._v(t._s(a.desc))]),s("p",{staticClass:"price"},[t._v("¥"+t._s(a.price))])],1)])})),0)])])})),0)},lt=[],ut={data(){return{goodsList:[]}},methods:{async getGoodsList(){const{data:t}=await this.$axios.get("/home/goods");this.goodsList=t.result}},created(){this.getGoodsList()}},dt=ut,vt=(0,o.Z)(dt,ot,lt,!1,null,"46cc93db",null),ht=vt.exports,_t={components:{HomeBanner:K,HomeNew:st,HomeHot:nt,HomeGoods:ht}},pt=_t,ft=(0,o.Z)(pt,D,B,!1,null,null,null),gt=ft.exports,mt=function(){var t=this,s=t._self._c;return s("div",[s("LoginHeader"),s("LoginSection"),s("LoginFooter")],1)},Ct=[],kt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"header"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"logo"},[s("router-link",{attrs:{to:"/"}})],1),s("h3",{staticClass:"sub"},[t._v("欢迎登录")]),s("router-link",{staticClass:"entry",attrs:{to:"/"}},[t._v(" 进入首页 "),s("i",{staticClass:"el-icon-d-arrow-right"})])],1)])},yt=[],bt={},Lt=bt,xt=(0,o.Z)(Lt,kt,yt,!1,null,"73cf160f",null),wt=xt.exports,It=function(){var t=this,s=t._self._c;return s("div",{staticClass:"section"},[s("div",{staticClass:"wrapper"},[s("nav",[t._v("账户登录")]),s("div",{staticClass:"form"},[s("div",{staticClass:"form-item"},[s("el-input",{attrs:{"prefix-icon":"el-icon-user"},model:{value:t.loginInfo.account,callback:function(s){t.$set(t.loginInfo,"account",s)},expression:"loginInfo.account"}})],1),s("div",{staticClass:"form-item"},[s("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock"},model:{value:t.loginInfo.password,callback:function(s){t.$set(t.loginInfo,"password",s)},expression:"loginInfo.password"}})],1),t._m(0),s("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1)])])},jt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"form-item"},[s("div",{staticClass:"agree"},[s("input",{attrs:{type:"checkbox",checked:""}}),s("span",[t._v("我已同意")]),s("a",{attrs:{href:"javascript:;"}},[t._v("《隐私条款》")]),s("span",[t._v("和")]),s("a",{attrs:{href:"javascript:;"}},[t._v("《服务条款》")])])])}],$t={data(){return{loginInfo:{account:"xiaotuxian002",password:"123456"}}},methods:{async login(){const{data:t}=await this.$axios.post("/login",this.loginInfo);this.$store.commit("setUserInfo",t.result),this.$message.success("登录成功"),this.$router.push("/")}}},Pt=$t,Zt=(0,o.Z)(Pt,It,jt,!1,null,"cc98dbda",null),Ft=Zt.exports,qt=function(){var t=this;t._self._c;return t._m(0)},Gt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"footer"},[s("div",{staticClass:"container"},[s("p",[s("a",{attrs:{href:"javascript:;"}},[t._v("关于我们")]),s("a",{attrs:{href:"javascript:;"}},[t._v("帮助中心")]),s("a",{attrs:{href:"javascript:;"}},[t._v("售后服务")]),s("a",{attrs:{href:"javascript:;"}},[t._v("配送与验收")]),s("a",{attrs:{href:"javascript:;"}},[t._v("商务合作")]),s("a",{attrs:{href:"javascript:;"}},[t._v("搜索推荐")]),s("a",{attrs:{href:"javascript:;"}},[t._v("友情链接")])]),s("p",[t._v("CopyRight © 怪兽商城")])])])}],St={},Nt=St,Rt=(0,o.Z)(Nt,qt,Gt,!1,null,"ffb78d94",null),Ht=Rt.exports,Ot={components:{LoginHeader:wt,LoginSection:Ft,LoginFooter:Ht}},Tt=Ot,Mt=(0,o.Z)(Tt,mt,Ct,!1,null,null,null),At=Mt.exports,Dt=function(){var t=this,s=t._self._c;return s("div",[s("CateFilter",{attrs:{id:t.id,cateList:t.cateList,activeFilter:t.activeFilter},on:{filterChange:t.getFilter}}),s("div",{staticClass:"show"},[s("div",{staticClass:"container"},[s("div",{staticClass:"rank"},[s("button",{class:{active:null===t.activeRank},attrs:{type:"button"},on:{click:function(s){return t.toggleRank(null,"")}}},[t._v(" 默认排序 ")]),s("button",{class:{active:0===t.activeRank},attrs:{type:"button"},on:{click:function(s){return t.toggleRank(0,"publishTime")}}},[t._v(" 最新商品 ")]),s("button",{class:{active:1===t.activeRank},attrs:{type:"button"},on:{click:function(s){return t.toggleRank(1,"orderNum")}}},[t._v(" 销量最高 ")]),s("button",{class:{active:2===t.activeRank},attrs:{type:"button"},on:{click:function(s){return t.toggleRank(2,"evaluateNum")}}},[t._v(" 评论最多 ")]),s("button",{class:{active:3===t.activeRank},attrs:{type:"button"},on:{click:function(s){return t.toggleRank(3,"price")}}},[t._v(" 价格"),"price"===t.queryInfo.sortField&&"desc"===t.queryInfo.sortMethod?s("i",{staticClass:"el-icon-bottom"}):t._e(),"price"===t.queryInfo.sortField&&"asc"===t.queryInfo.sortMethod?s("i",{staticClass:"el-icon-top"}):t._e()])]),s("CateGoods",{attrs:{goodsList:t.goodsList}})],1)])],1)},Bt=[],Et=function(){var t=this,s=t._self._c;return s("div",{staticClass:"filter"},[s("div",{staticClass:"container"},[s("div",{staticClass:"head"},[t._v("分类")]),s("div",{staticClass:"body"},[s("span",{class:{active:null===t.activeFilter},on:{click:function(s){return t.toggleFilter(null,t.id)}}},[t._v("全部")]),t._l(t.cateList,(function(a,e){return s("span",{key:e,class:{active:t.activeFilter===e},on:{click:function(s){return t.toggleFilter(e,a.id)}}},[t._v(t._s(a.name))])}))],2)])])},zt=[],Ut={props:["id","cateList","activeFilter"],methods:{toggleFilter(t,s){this.$emit("filterChange",{index:t,id:s})}}},Wt=Ut,Jt=(0,o.Z)(Wt,Et,zt,!1,null,"00f7c5ad",null),Kt=Jt.exports,Qt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"goods"},[s("ul",t._l(t.goodsList,(function(a){return s("li",{key:a.id},[s("div",{staticClass:"item"},[s("router-link",{attrs:{to:`/goods/${a.id}`}},[s("div",{staticClass:"image"},[s("img",{attrs:{src:a.picture,alt:""}})])]),s("p",{staticClass:"name ellipsis-2"},[t._v(" "+t._s(a.name)+" ")]),s("p",{staticClass:"desc ellipsis"},[t._v(t._s(a.desc))]),s("p",{staticClass:"price"},[t._v("¥"+t._s(a.price))])],1)])})),0)])},Vt=[],Xt={props:["goodsList"]},Yt=Xt,ts=(0,o.Z)(Yt,Qt,Vt,!1,null,"1a8564f0",null),ss=ts.exports,as={components:{CateFilter:Kt,CateGoods:ss},props:["id"],data(){return{activeFilter:null,activeRank:null,goodsList:[],cateList:[],queryInfo:{categoryId:this.id,sortField:"",sortMethod:"desc",pageSize:100}}},methods:{async getCateList(){const{data:t}=await this.$axios.get("/category",{params:{id:this.id}});this.cateList=t.result.children},async getGoodsList(){const{data:t}=await this.$axios.post("/category/goods",this.queryInfo);this.goodsList=t.result.items},getFilter(t){this.activeFilter=t.index,this.queryInfo.categoryId=t.id},toggleRank(t,s){this.activeRank=t,this.queryInfo.sortMethod="price"===s&&"desc"===this.queryInfo.sortMethod?"asc":"desc",this.queryInfo.sortField=s}},created(){this.getGoodsList(),this.getCateList()},watch:{id:{handler(){this.activeFilter=null,this.activeRank=null,this.queryInfo.categoryId=this.id,this.queryInfo.sortField="",this.queryInfo.sortMethod="desc"}},queryInfo:{deep:!0,handler(){this.getGoodsList(),this.getCateList()}}}},es=as,is=(0,o.Z)(es,Dt,Bt,!1,null,"16fd1f9c",null),rs=is.exports,cs=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"info"},[s("div",{staticClass:"container"},[s("GoodsMedia",{attrs:{goods:t.goods,src:t.src}}),s("div",{staticClass:"spec"},[s("GoodsName",{attrs:{goods:t.goods}}),s("GoodsSku",{attrs:{skus:t.skus},on:{getSku:t.getSku}}),s("div",{staticClass:"count"},[s("div",{staticClass:"label"},[t._v("数量")]),s("el-input-number",{attrs:{min:1,size:"small"},model:{value:t.count,callback:function(s){t.count=s},expression:"count"}})],1),s("el-button",{attrs:{type:"primary"},on:{click:t.addCart}},[t._v("加入购物车")])],1)],1)]),s("GoodsDetail",{attrs:{attrs:t.attrs,image:t.image}})],1)},ns=[],os=function(){var t=this,s=t._self._c;return s("div",{staticClass:"sku"},[s("dl",t._l(t.skus,(function(a,e){return s("dd",{key:e,class:{active:t.active===e},on:{click:function(s){return t.select(e,a)}}},t._l(a.specs,(function(a,e){return s("span",{key:e},[t._v(t._s(a.valueName))])})),0)})),0)])},ls=[],us={props:["skus"],data(){return{active:null}},methods:{select(t,s){this.active=t,this.$emit("getSku",s)}}},ds=us,vs=(0,o.Z)(ds,os,ls,!1,null,"7d19a17b",null),hs=vs.exports,_s=function(){var t=this,s=t._self._c;return s("div",[s("p",{staticClass:"g-name"},[t._v(t._s(t.goods.name))]),s("p",{staticClass:"g-desc"},[t._v(t._s(t.goods.desc))]),s("p",{staticClass:"g-price"},[s("span",[t._v("¥"+t._s(t.goods.price))]),s("span",[t._v("¥"+t._s(t.goods.oldPrice))])]),t._m(0)])},ps=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"g-service"},[s("dl",[s("dt",[t._v("促销")]),s("dd",[t._v("12月好物放送，App领券购买直降120元")])]),s("dl",[s("dt",[t._v("配送")]),s("dd",[t._v("至")])]),s("dl",[s("dt",[t._v("服务")]),s("dd",[s("span",[t._v("无忧退货")]),s("span",[t._v("快速退款")]),s("span",[t._v("免费包邮")]),s("a",{attrs:{href:"javascript:;"}},[t._v("了解详情")])])])])}],fs={props:["goods"]},gs=fs,ms=(0,o.Z)(gs,_s,ps,!1,null,"3cfa0a61",null),Cs=ms.exports,ks=function(){var t=this,s=t._self._c;return s("div",{staticClass:"media"},[s("div",{staticClass:"image"},[s("div",{staticClass:"middle"},[s("img",{ref:"mid",attrs:{src:t.src,alt:""}})]),s("ul",{staticClass:"small"},t._l(t.goods.mainPictures,(function(a,e){return s("li",{key:e,on:{mouseenter:function(s){return t.toggleImg(a)}}},[s("img",{attrs:{src:a,alt:""}})])})),0)]),s("ul",{staticClass:"sales"},[s("li",[s("p",[t._v("销量人气")]),s("p",[t._v(t._s(t.goods.salesCount))]),t._m(0)]),s("li",[s("p",[t._v("商品评价")]),s("p",[t._v(t._s(t.goods.commentCount))]),t._m(1)]),s("li",[s("p",[t._v("收藏人气")]),s("p",[t._v(t._s(t.goods.collectCount))]),t._m(2)]),t._m(3)])])},ys=[function(){var t=this,s=t._self._c;return s("p",[s("i",{staticClass:"el-icon-sell"}),t._v("销量人气")])},function(){var t=this,s=t._self._c;return s("p",[s("i",{staticClass:"el-icon-s-comment"}),t._v("查看评价")])},function(){var t=this,s=t._self._c;return s("p",[s("i",{staticClass:"el-icon-collection"}),t._v("收藏商品")])},function(){var t=this,s=t._self._c;return s("li",[s("p",[t._v("品牌信息")]),s("p",[t._v("自营")]),s("p",[s("i",{staticClass:"el-icon-house"}),t._v("品牌主页")])])}],bs={props:["goods","src"],methods:{toggleImg(t){this.$refs.mid.src=t}}},Ls=bs,xs=(0,o.Z)(Ls,ks,ys,!1,null,"39360bed",null),ws=xs.exports,Is=function(){var t=this,s=t._self._c;return s("div",{staticClass:"detail"},[s("div",{staticClass:"container"},[s("ul",{staticClass:"attrs"},t._l(t.attrs,(function(a,e){return s("li",{key:e},[s("span",{staticClass:"dt"},[t._v(t._s(a.name))]),s("span",{staticClass:"dd"},[t._v(t._s(a.value))])])})),0),s("ul",{staticClass:"image"},t._l(t.image,(function(t,a){return s("li",{key:a},[s("img",{attrs:{src:t,alt:""}})])})),0)])])},js=[],$s={props:["attrs","image"]},Ps=$s,Zs=(0,o.Z)(Ps,Is,js,!1,null,"57be1a19",null),Fs=Zs.exports,qs={components:{GoodsSku:hs,GoodsName:Cs,GoodsMedia:ws,GoodsDetail:Fs},props:["id"],data(){return{goods:{},src:"",skus:[],attrs:[],image:[],skuId:null,count:1}},methods:{async getGoods(){const{data:t}=await this.$axios.get("/goods",{params:{id:this.id}});this.goods=t.result,this.src=t.result.mainPictures[0],this.skus=t.result.skus,this.attrs=t.result.details.properties,this.image=t.result.details.pictures},getSku(t){this.skuId=t.id,this.goods.price=t.price,this.goods.oldPrice=t.oldPrice},async addCart(){if(this.$store.state.userInfo.token)if(null===this.skuId)this.$message.error("请选择商品规格");else{const{data:t}=await this.$axios.post("/member/cart",{skuId:this.skuId,count:this.count});this.$message.success("加入购物车成功")}else this.$message.warning("请先登录您的账号")}},created(){this.getGoods()},watch:{id:{handler(){this.getGoods()}}}},Gs=qs,Ss=(0,o.Z)(Gs,cs,ns,!1,null,"7979b29e",null),Ns=Ss.exports,Rs=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"container"},[s("Aside"),s("div",{staticClass:"main"},[s("router-view")],1)],1)])},Hs=[],Os=function(){var t=this,s=t._self._c;return s("div",{staticClass:"aside"},[s("div",{staticClass:"body"},[s("h4",[t._v("我的账户")]),s("div",{staticClass:"links"},[s("router-link",{attrs:{to:"/user/account"}},[t._v("个人中心")]),s("a",{attrs:{href:"javascript:;"}},[t._v("消息通知")]),s("a",{attrs:{href:"javascript:;"}},[t._v("个人信息")]),s("a",{attrs:{href:"javascript:;"}},[t._v("安全设置")]),s("a",{attrs:{href:"javascript:;"}},[t._v("地址管理")]),s("a",{attrs:{href:"javascript:;"}},[t._v("我的积分")]),s("a",{attrs:{href:"javascript:;"}},[t._v("我的足迹")]),s("a",{attrs:{href:"javascript:;"}},[t._v("邀请有礼")]),s("a",{attrs:{href:"javascript:;"}},[t._v("幸运抽奖")])],1),s("h4",[t._v("交易管理")]),s("div",{staticClass:"links"},[s("router-link",{attrs:{to:"/user/order"}},[t._v("我的订单")]),s("a",{attrs:{href:"javascript:;"}},[t._v("优惠券")]),s("a",{attrs:{href:"javascript:;"}},[t._v("礼品卡")]),s("a",{attrs:{href:"javascript:;"}},[t._v("评价晒单")]),s("a",{attrs:{href:"javascript:;"}},[t._v("售后服务")])],1),s("h4",[t._v("我的收藏")]),t._m(0),s("h4",[t._v("帮助中心")]),t._m(1)])])},Ts=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"links"},[s("a",{attrs:{href:"javascript:;"}},[t._v("收藏的商品")]),s("a",{attrs:{href:"javascript:;"}},[t._v("收藏的专题")]),s("a",{attrs:{href:"javascript:;"}},[t._v("关注的品牌")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"links"},[s("a",{attrs:{href:"javascript:;"}},[t._v("帮助中心")]),s("a",{attrs:{href:"javascript:;"}},[t._v("在线客服")])])}],Ms={},As=Ms,Ds=(0,o.Z)(As,Os,Ts,!1,null,"6cffa362",null),Bs=Ds.exports,Es={components:{Aside:Bs}},zs=Es,Us=(0,o.Z)(zs,Rs,Hs,!1,null,"f924e9bc",null),Ws=Us.exports,Js=function(){var t=this,s=t._self._c;return s("div",{staticClass:"home-overview"},[s("div",{staticClass:"user-meta"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.$store.state.userInfo.avatar}})]),s("h4",[t._v(t._s(t.$store.state.userInfo.nickname))])]),t._m(0)])},Ks=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"item"},[s("a",{attrs:{href:"javascript:;"}},[s("i",{staticClass:"el-icon-user"}),s("p",[t._v("会员中心")])]),s("a",{attrs:{href:"javascript:;"}},[s("i",{staticClass:"el-icon-setting"}),s("p",[t._v("安全设置")])]),s("a",{attrs:{href:"javascript:;"}},[s("i",{staticClass:"el-icon-location-outline"}),s("p",[t._v("地址管理")])])])}],Qs={},Vs=Qs,Xs=(0,o.Z)(Vs,Js,Ks,!1,null,"75d4b61c",null),Ys=Xs.exports,ta=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"sort"},[s("span",{class:{active:0===t.active},on:{click:function(s){return t.toggle(0)}}},[t._v("全部订单")]),s("span",{class:{active:1===t.active},on:{click:function(s){return t.toggle(1)}}},[t._v("待付款")]),s("span",{class:{active:2===t.active},on:{click:function(s){return t.toggle(2)}}},[t._v("待发货")]),s("span",{class:{active:3===t.active},on:{click:function(s){return t.toggle(3)}}},[t._v("待收货")]),s("span",{class:{active:4===t.active},on:{click:function(s){return t.toggle(4)}}},[t._v("待评价")]),s("span",{class:{active:5===t.active},on:{click:function(s){return t.toggle(5)}}},[t._v("已完成")]),s("span",{class:{active:6===t.active},on:{click:function(s){return t.toggle(6)}}},[t._v("已取消")])]),s("div",{staticClass:"order-list"},t._l(t.orderList,(function(a){return s("div",{key:a.id,staticClass:"order-item"},[s("div",{staticClass:"head"},[s("span",[t._v("创建时间："+t._s(a.createTime))]),s("span",[t._v("订单编号："+t._s(a.id))])]),s("div",{staticClass:"body"},[s("div",{staticClass:"column goods"},[s("ul",t._l(a.skus,(function(a){return s("li",{key:a.id},[s("a",{staticClass:"image",attrs:{href:"javascript:;"}},[s("img",{attrs:{src:a.image,alt:""}})]),s("div",{staticClass:"info"},[s("p",{staticClass:"name ellipsis-2"},[t._v(" "+t._s(a.name)+" ")]),s("p",{staticClass:"attr ellipsis"},[s("span",[t._v(t._s(a.attrsText))])])]),s("div",{staticClass:"price"},[t._v("¥"+t._s(a.realPay))]),s("div",{staticClass:"count"},[t._v("x"+t._s(a.quantity))])])})),0)]),s("div",{staticClass:"column state"},[s("p",[t._v(t._s(a.orderState))])]),s("div",{staticClass:"column amount"},[s("p",{staticClass:"red"},[t._v("¥"+t._s(a.payMoney))])]),t._m(0,!0)])])})),0)])},sa=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"column action"},[s("p",[s("a",{attrs:{href:"javascript:;"}},[t._v("查看详情")])])])}],aa={data(){return{orderList:{},queryInfo:{page:1,pageSize:10,orderState:0},active:0}},methods:{async getOrderList(){const{data:t}=await this.$axios.get("/member/order",{params:this.queryInfo});this.orderList=t.result.items},toggle(t){this.active=t,this.queryInfo.orderState=t,this.getOrderList()}},created(){this.getOrderList()}},ea=aa,ia=(0,o.Z)(ea,ta,sa,!1,null,"6e3e54d2",null),ra=ia.exports,ca=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"container"},[s("div",{staticClass:"cart"},[s("table",[t._m(0),s("tbody",t._l(t.cartList,(function(a){return s("tr",{key:a.skuId},[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:a.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.checked)?t._i(a.checked,null)>-1:a.checked},on:{change:[function(s){var e=a.checked,i=s.target,r=!!i.checked;if(Array.isArray(e)){var c=null,n=t._i(e,c);i.checked?n<0&&t.$set(a,"checked",e.concat([c])):n>-1&&t.$set(a,"checked",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(a,"checked",r)},t.handleChange]}})]),s("td",[s("div",{staticClass:"goods"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:a.picture,alt:""}})]),s("div",[s("p",{staticClass:"name ellipsis"},[t._v(" "+t._s(a.name)+" ")]),s("p",{staticClass:"attr"},[t._v(t._s(a.attrsText))])])],1)]),s("td",{staticClass:"tc"},[s("p",[t._v("¥"+t._s(a.nowPrice))]),s("p",[t._v(" 比加入时降价 "),s("span",{staticClass:"price"},[t._v("¥"+t._s(t._f("priceFormat")(a.price-a.nowPrice)))])])]),s("td",{staticClass:"tc"},[t._v(t._s(a.count))]),s("td",{staticClass:"tc"},[s("p",{staticClass:"f16 price"},[t._v(" ¥"+t._s(t._f("priceFormat")(a.nowPrice*a.count))+" ")])]),s("td",{staticClass:"tc"},[s("p",[s("span",{staticClass:"delete",on:{click:function(s){return t.openMsg(a.skuId)}}},[t._v("删除")])])])])})),0)])]),s("div",{staticClass:"action"},[s("div",{staticClass:"batch"}),s("div",{staticClass:"total"},[t._v(" 共 "+t._s(t.total)+" 件商品，已选择 "+t._s(t.checkNum)+" 件，合计： "),s("span",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(t.checkPrice)))]),s("el-button",{attrs:{type:"primary"},on:{click:t.handleClick}},[t._v("结算")])],1)])])])},na=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{attrs:{width:"120"}}),s("th",{attrs:{width:"400"}},[t._v("商品信息")]),s("th",{attrs:{width:"220"}},[t._v("单价")]),s("th",{attrs:{width:"180"}},[t._v("数量")]),s("th",{attrs:{width:"180"}},[t._v("小计")]),s("th",{attrs:{width:"140"}},[t._v("操作")])])])}],oa={data(){return{cartList:[],total:0,checkList:[],checkNum:0,checkPrice:0,deleteIds:[]}},filters:{priceFormat(t){return t.toFixed(2)}},methods:{async getCartList(){const{data:t}=await this.$axios.get("/member/cart");this.cartList=t.result,this.cartList.forEach((t=>{t.checked=!1})),this.getTotal(),this.getCheckInfo()},openMsg(t){this.$confirm("您是否确认删除该商品?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteIds.push(t),this.deleteCart()}))},async deleteCart(){const{data:t}=await this.$axios.delete("/member/cart",{data:{ids:this.deleteIds}});this.deleteIds=[],this.getCartList()},getTotal(){this.total=0,this.cartList.forEach((t=>{this.total=this.total+t.count}))},getCheckInfo(){this.checkList=[],this.checkNum=0,this.checkPrice=0,this.cartList.forEach((t=>{!0===t.checked&&(this.checkList.push(t),this.checkNum=this.checkNum+t.count,this.checkPrice=this.checkPrice+t.nowPrice*t.count)}))},handleChange(){this.getCheckInfo()},handleClick(){0===this.checkList.length?this.$message.error("请至少选择一样商品"):(this.$store.commit("setCheckInfo",{checkList:this.checkList,checkNum:this.checkNum,checkPrice:this.checkPrice}),this.$router.push("/user/check"))}},created(){this.getCartList()}},la=oa,ua=(0,o.Z)(la,ca,na,!1,null,"4e39c264",null),da=ua.exports,va=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"container"},[s("h3",{staticClass:"title"},[t._v("收货地址")]),t._m(0),s("h3",{staticClass:"title"},[t._v("商品信息")]),s("div",{staticClass:"body"},[s("table",{staticClass:"goods"},[t._m(1),s("tbody",t._l(t.$store.state.checkInfo.checkList,(function(a){return s("tr",{key:a.skuId},[s("td",[s("div",{staticClass:"info"},[s("img",{attrs:{src:a.picture,alt:""}}),s("div",{staticClass:"desc"},[s("p",[t._v(t._s(a.name))]),s("p",[t._v(t._s(a.attrsText))])])])]),s("td",[t._v("¥"+t._s(a.nowPrice))]),s("td",[t._v(t._s(a.count))]),s("td",[t._v("¥"+t._s(a.nowPrice*a.count))]),s("td",{staticClass:"price"},[t._v("¥"+t._s(a.nowPrice*a.count))])])})),0)])]),s("h3",{staticClass:"title"},[t._v("配送时间")]),s("div",{staticClass:"body"},[s("span",{staticClass:"btn",class:{active:0===t.activeDate}},[t._v("周一至周日")]),s("span",{staticClass:"btn",class:{active:1===t.activeDate}},[t._v("周一至周五")]),s("span",{staticClass:"btn",class:{active:2===t.activeDate}},[t._v("周末及节假日")])]),s("h3",{staticClass:"title"},[t._v("支付方式")]),s("div",{staticClass:"body"},[s("span",{staticClass:"btn",class:{active:0===t.activePay}},[t._v("在线支付")]),s("span",{staticClass:"btn",class:{active:1===t.activePay}},[t._v("货到付款")])]),s("h3",{staticClass:"title"},[t._v("金额明细")]),s("div",{staticClass:"body"},[s("div",{staticClass:"total"},[s("dl",[s("dt",[t._v("商品件数：")]),s("dd",[t._v(t._s(t.$store.state.checkInfo.checkNum)+"件")])]),s("dl",[s("dt",[t._v("商品总价：")]),s("dd",[t._v("¥"+t._s(t.$store.state.checkInfo.checkPrice))])]),t._m(2),t._m(3),s("dl",[s("dt",[t._v("应付金额：")]),s("dd",{staticClass:"price"},[t._v("¥"+t._s(t.$store.state.checkInfo.checkPrice))])]),s("el-button",{attrs:{type:"primary"}},[t._v("提交订单")])],1)])])])},ha=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"body"},[s("div",{staticClass:"address"},[s("div",{staticClass:"text"},[s("ul",[s("li",[s("span",[t._v("收货人：")]),t._v("收货人")]),s("li",[s("span",[t._v("联系方式：")]),t._v("联系方式")]),s("li",[s("span",[t._v("收货地址：")]),t._v("收货地址")])])])])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{attrs:{width:"520"}},[t._v("商品信息")]),s("th",{attrs:{width:"170"}},[t._v("单价")]),s("th",{attrs:{width:"170"}},[t._v("数量")]),s("th",{attrs:{width:"170"}},[t._v("小计")]),s("th",{attrs:{width:"170"}},[t._v("实付")])])])},function(){var t=this,s=t._self._c;return s("dl",[s("dt",[t._v("运"),s("i"),t._v("费：")]),s("dd",[t._v("¥0.00")])])},function(){var t=this,s=t._self._c;return s("dl",[s("dt",[t._v("优"),s("i"),t._v("惠：")]),s("dd",[t._v("¥0.00")])])}],_a={data(){return{activeDate:0,activePay:0}}},pa=_a,fa=(0,o.Z)(pa,va,ha,!1,null,"5e6fcd59",null),ga=fa.exports;e["default"].use(d.Z);const ma=[{path:"/",component:A,children:[{path:"/",component:gt},{path:"category/:id",component:rs,props:!0},{path:"goods/:id",component:Ns,props:!0},{path:"user",component:Ws,children:[{path:"/",redirect:"account"},{path:"account",component:Ys},{path:"order",component:ra}]},{path:"user/cart",component:da},{path:"user/check",component:ga}]},{path:"/login",component:At}],Ca=new d.Z({routes:ma,scrollBehavior(){return{x:0,y:0}}});Ca.beforeEach(((t,s,a)=>{t.path.startsWith("/user")&&!g.state.userInfo.token?a("/login"):a()}));var ka=Ca,ya=a(7881),ba=a.n(ya),La=a(4002),xa=a.n(La),wa=a(7934),Ia=a.n(wa),ja=a(5981),$a=a.n(ja),Pa=a(3892),Za=a.n(Pa),Fa=a(5034),qa=a.n(Fa),Ga=a(1540),Sa=a.n(Ga);e["default"].use(Sa()),e["default"].use(qa()),e["default"].use(Za()),e["default"].use($a()),e["default"].prototype.$message=Ia(),e["default"].prototype.$loading=xa().service,e["default"].prototype.$confirm=ba().confirm;var Na=a(6265),Ra=a.n(Na);let Ha;Ra().defaults.baseURL="http://pcapi-xiaotuxian-front-devtest.itheima.net",Ra().interceptors.request.use((t=>{const s=g.state.userInfo.token;return s&&(t.headers.Authorization=s),Ha=e["default"].prototype.$loading({background:"transparent"}),t})),Ra().interceptors.response.use((t=>(Ha.close(),t)),(t=>(Ha.close(),e["default"].prototype.$message.error(t.response.data.message),Promise.reject(t)))),e["default"].prototype.$axios=Ra(),e["default"].config.productionTip=!1,new e["default"]({router:ka,store:g,render:t=>t(u)}).$mount("#app")}},s={};function a(e){var i=s[e];if(void 0!==i)return i.exports;var r=s[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(s,e,i,r){if(!e){var c=1/0;for(u=0;u<t.length;u++){e=t[u][0],i=t[u][1],r=t[u][2];for(var n=!0,o=0;o<e.length;o++)(!1&r||c>=r)&&Object.keys(a.O).every((function(t){return a.O[t](e[o])}))?e.splice(o--,1):(n=!1,r<c&&(c=r));if(n){t.splice(u--,1);var l=i();void 0!==l&&(s=l)}}return s}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[e,i,r]}}(),function(){a.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(s,{a:s}),s}}(),function(){a.d=function(t,s){for(var e in s)a.o(s,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(s){return 0===t[s]};var s=function(s,e){var i,r,c=e[0],n=e[1],o=e[2],l=0;if(c.some((function(s){return 0!==t[s]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(o)var u=o(a)}for(s&&s(e);l<c.length;l++)r=c[l],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},e=self["webpackChunkvue_mall"]=self["webpackChunkvue_mall"]||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))}();var e=a.O(void 0,[998],(function(){return a(2226)}));e=a.O(e)})();
//# sourceMappingURL=app.b870af4a.js.map